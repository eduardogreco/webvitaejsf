<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:uri="http://primefaces.prime.com.tr/ui"
                 xmlns:c="http://java.sun.com/jsp/jstl/core">
    <c:if test="#{loginBean.loggedIn}">
        <div id="principal">
            <h:form id="form1">  
                <p:panel id="lista_produtos" header="Listagem de todos os produtos"> 
                    <p:growl id="message" showDetail="true"/>   
                    <p:dataTable var="produto" value="#{listagemProdutosBean.listaTodosProdutos}"  selection="#{listagemProdutosBean.produto}" rowKey="#{produto.id}" paginator="true" rows="20"  selectionMode="single" id="produtos1Table" style="text-align: center;"
                                 emptyMessage="Nenhum resultado foi encontrado." filteredValue="#{listagemProdutosBean.filteredProdutos}" widgetVar="produtosTable" >  
                        <p:ajax event="rowSelect" update=":form1"/> 
                        <f:facet name="header" >
                            <p:outputPanel style="margin-left: 60%;">
                                <h:outputText value="Pesquisar: "/>
                                <p:inputText id="globalFilter" onkeyup="produtosTable.filter()"/>
                            </p:outputPanel>
                        </f:facet>
                        <p:column headerText="id" width="15"
                                  >  
                            <h:outputText  value="#{produto.id}"/>  
                        </p:column>  

                        <p:column headerText="Nome" width="80">  
                            <h:outputText value="#{produto.nome}" id="name"/>  
                        </p:column>  
                        <p:column headerText="Familia" width="80" >  
                            <h:outputText value="#{produto.familia.nome}" id="familia"/>  
                        </p:column>  

                        <p:column headerText="Fabricante">  
                            <h:outputText value="#{produto.fabricante}" id="fabricante"/>  
                        </p:column> 

                        <p:column headerText="Descrição">  
                            <h:outputText value="#{produto.fabricante}" id="descricao"/>  
                        </p:column> 

                        <p:column headerText="Data Cad.">  
                            <h:outputText value="#{produto.data}" id="data"/>  
                        </p:column> 

                        <p:column headerText="Total" width="25">  
                            <h:outputText value="#{produto.quantidade}" id="qtadeTotal"/>  
                        </p:column> 

                        <p:column headerText="Disp." width="40">  
                            <h:outputText value="#{produto.qtdeDisponivel}" id="qtadeDisponivel"/>  
                        </p:column> 

                        <p:column headerText="Vendido" width="45">  
                            <h:outputText value="#{produto.qtdeVendida}" id="qtdeVendida"/>  
                        </p:column> 

                        <p:column headerText="Frete">  
                            <h:outputText value="#{produto.frete}" id="frete"/>  
                        </p:column> 

                        <p:column headerText="Preço" width="40">  
                            <h:outputText value="#{produto.precoVenda}" id="preco"/>  
                        </p:column> 
                        <p:column headerText="Prazo" width="40">  
                            <h:outputText value="#{produto.prazo}" id="prazo"/>  
                        </p:column> 

<!--                        <p:column headerText="Opçoẽs" style="width:6%">  
                            <p:commandButton id="viewButton" icon="ui-icon-pencil"  
                                             onclick="prod.show();" type="button" /> 
                            <p:commandButton id="viewButton2" icon="ui-icon-trash" oncomplete="produtoDelete.show()"/> 
                        </p:column>  -->
                        <p:column filterBy="#{produto.id}" rendered="false"/>  
                        <p:column filterBy="#{produto.nome}" rendered="false"/>  
                        <p:column filterBy="#{produto.descricao}" rendered="false"/>  
                        <p:column filterBy="#{produto.familia.nome}" rendered="false"/>  
                        <p:column filterBy="#{produto.frete}" rendered="false"/>  
                        <p:column filterBy="#{produto.prazo}" rendered="false"/>  
                        <p:column filterBy="#{produto.precoVenda}" rendered="false"/>  
                        <p:column filterBy="#{produto.dtLimiteVenda}" rendered="false"/>  
                        <p:column filterBy="#{produto.quantidade}" rendered="false"/>  
                        <p:column filterBy="#{produto.qtdeDisponivel}" rendered="false"/>  
                        <p:column filterBy="#{produto.fabricante}" rendered="false"/>  

                    </p:dataTable> 
                    <h:commandLink>  
                        <p:graphicImage value="resources/imagesAdmin/excel.png" />  
                        <p:dataExporter type="xls" target="produtos1Table" fileName="produtos"/>  
                    </h:commandLink>  

                    <h:commandLink>  
                        <p:graphicImage value="resources/imagesAdmin/pdf.png" />  
                        <p:dataExporter type="pdf" target="produtos1Table" fileName="produtos"/>  
                    </h:commandLink>  

                    <h:commandLink>  
                        <p:graphicImage value="resources/imagesAdmin/csv.png" />  
                        <p:dataExporter type="csv" target="produtos1Table" fileName="produtos"/>  
                    </h:commandLink>  

                    <h:commandLink>  
                        <p:graphicImage value="resources/imagesAdmin/xml.png" />  
                        <p:dataExporter type="xml" target="produtos1Table" fileName="produtos"/>  
                    </h:commandLink>  
                    <br /> <br />
                </p:panel>
            </h:form> 
        </div>
    </c:if>
</ui:composition>

